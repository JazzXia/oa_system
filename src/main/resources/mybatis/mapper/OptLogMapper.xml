<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qtatelier.OASystem.basics.optlog.mapper.OptLogMapper">
  <resultMap id="BaseResultMap" type="com.qtatelier.OASystem.basics.optlog.model.OptLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="log_id" jdbcType="VARCHAR" property="logId" />
    <result column="account_id" jdbcType="VARCHAR" property="accountId" />
    <result column="operation" jdbcType="VARCHAR" property="operation" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="oper_time" jdbcType="VARCHAR" property="operTime" />
    <result column="method" jdbcType="VARCHAR" property="method" />
    <result column="ip" jdbcType="VARCHAR" property="ip" />
    <result column="module_name" jdbcType="VARCHAR" property="moduleName" />
    <result column="opt_result" jdbcType="VARCHAR" property="optResult" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from opt_log
    where log_id = #{logId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.qtatelier.OASystem.basics.optlog.model.OptLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into opt_log (log_id, account_id, `operation`,
    remark, oper_time, `method`,
    ip, module_name, opt_result
    )
    values (#{logId,jdbcType=VARCHAR}, #{accountId,jdbcType=VARCHAR}, #{operation,jdbcType=VARCHAR},
    #{remark,jdbcType=VARCHAR}, #{operTime,jdbcType=VARCHAR}, #{method,jdbcType=VARCHAR},
    #{ip,jdbcType=VARCHAR}, #{moduleName,jdbcType=VARCHAR}, #{optResult,jdbcType=VARCHAR}
    )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.qtatelier.OASystem.basics.optlog.model.OptLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update opt_log
    set account_id = #{accountId,jdbcType=VARCHAR},
    `operation` = #{operation,jdbcType=VARCHAR},
    remark = #{remark,jdbcType=VARCHAR},
    oper_time = #{operTime,jdbcType=VARCHAR},
    `method` = #{method,jdbcType=VARCHAR},
    ip = #{ip,jdbcType=VARCHAR},
    module_name = #{moduleName,jdbcType=VARCHAR},
    opt_result = #{optResult,jdbcType=VARCHAR}
    where log_id = #{logId,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, account_id, `operation`, remark, oper_time, `method`, ip, module_name,
    opt_result
    from opt_log
    where log_id = #{logId,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, account_id, `operation`, remark, oper_time, `method`, ip, module_name,
    opt_result
    from opt_log
  </select>



  <delete id="deleteInfoByLike" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from opt_log
    where oper_time LIKE '%${operTime}%'
  </delete>

  <select id="selectByAccoutId" parameterType="com.qtatelier.OASystem.basics.optlog.model.OptLog" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, account_id, `operation`, remark, oper_time, `method`, ip, module_name,
    opt_result
    from opt_log
    where account_id = #{accountId,jdbcType=VARCHAR}
    <if test="optResult != null" >
    AND opt_result LIKE '%${optResult}%'
    </if>
    <if test="operTime != null" >
      AND oper_time LIKE '%${operTime}%'
    </if>
    <if test="moduleName != null" >
      AND module_name LIKE '%${moduleName}%'
    </if>
  </select>


</mapper>